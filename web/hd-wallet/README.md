# hd-wallet

## 一、项目描述 
   本项目实现一个基于`vue`+`typescript`+`ether.js`简单实现的钱包功能


## 二、功能描述

   * 生成助记词
   * 根据助记词还原私钥
   * 随机生成私钥
   * 导出私钥
   * 导入私钥
   * 展示公钥列表
   

## 三、使用说明

### 依赖安装
 * 安装`vue3`:`npm install -g @vue/cli`
 * 在项目根目录执行安装本项目依赖的命令：`npm install`

### 启动和访问
 * 启动：`cd hd-wallet && npm run serve`
 * 访问：`http://localhost:8080/`



## 四、钱包相关描述

### 钱包概念
数字钱包实际是一个管理私钥（生成、存储、签名）的工具，注意钱包并不保存资产，资产是在链上的


### 钱包种类

**钱包分类：**
   * 按大类区分：
      - 软件钱包
      - 硬件钱包
   * 按主链区分：
      - 比特币钱包
      - 以太坊钱包
      - 莱特币钱包
      - 。。。
   * 按发展史区分：
      - 非确定性（随机）钱包：钱包生成私钥，私钥之间没有任何关系，都是独立的
      - 确定性(种子)钱包：一个种子能恢复所有的私钥
      - 分层确定性钱包（HD钱包）：私钥的衍生结构是树状结构，父密钥可以衍生一系列子密钥，子密钥又可以衍生孙密钥，无限衍生。引入了助记词概念，只要记住助记词就行了


### 钱包相关协议

* `BIP32`：根据一个随机数种子通过分层确定性推导的方式得到n个私钥，这样保存的时候，只需要保存一个种子就可以，私钥可以推导出来。
* `BIP39`: 通过生成助记词让种子的备份更友好,记住12（或24）个单词，单词序列通过`PBKDF2`与 `HMAC-SHA512`函数创建出随机种子作为`BIP32`的种子
* `BIP44`: 是给BIP32的分层增强了路径定义规范，同时增加了对多币种的支持.指定了包含5个预定义树状层级的结构：`m / purpose' / coin' / account' / change / address_index`,例如：`m/44’/60’/0’/0/0`
  - `m`: 固定值
  - `Purpose`:也取固定值`44`
  - `Coin`: 代表币种，0代表比特币，1代表比特币测试链，60代表以太坊
  - `Account`:代表这个币的账户索引，从0开始
  - `Change`:常量0用于外部(收款地址)，常量1用于内部（也称为找零地址）。外部用于在钱包外可见的地址（例如，用于接收付款）。内部链用于在钱包外部不可见的地址，用于返回交易变更。 (所以一般使用0)
  - `address_index`:这就是地址索引，从0开始，代表生成第几个地址，官方建议，每个account下的address_index不要超过20
  

### 参考

* [理解开发HD 钱包涉及的 BIP32、BIP44、BIP39](https://learnblockchain.cn/2018/09/28/hdwallet/)
* [一文讲清楚“区块链钱包”](https://zhuanlan.zhihu.com/p/41788925)